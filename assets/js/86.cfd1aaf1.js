(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{526:function(s,t,a){"use strict";a.r(t);var n=a(59),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"cookie-session-localstorage-sessionstorage-token知识梳理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookie-session-localstorage-sessionstorage-token知识梳理"}},[s._v("#")]),s._v(" Cookie\\ Session\\ localStorage \\sessionStorage\\token知识梳理")]),s._v(" "),a("ul",[a("li",[a("h4",{attrs:{id:"cookie"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[s._v("#")]),s._v(" Cookie")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("cookie存在于客户端")])]),s._v(" "),a("li",[a("p",[s._v("大小不超过4k")])]),s._v(" "),a("li",[a("p",[s._v("用于存储客户端用户信息")]),s._v(" "),a("ol",[a("li",[s._v("当用户访问web页面时，用户name可记录在cookie中")]),s._v(" "),a("li",[s._v("当再次访问时，可在cookie中检索用户sessionId访问记录")])])]),s._v(" "),a("li",[a("p",[s._v("cookie坚持同源http,访问服务器，请求页面时，属于该页面的cookie添加到该页面，服务端通过这种方式获取用户信息")])]),s._v(" "),a("li",[a("p",[s._v("cookie存储形式:\n"),a("code",[s._v("username=WangyouLichuan")])])]),s._v(" "),a("li",[a("p",[s._v("js增删改cookie")]),s._v(" "),a("ol",[a("li",[s._v("创建cookie"),a("code",[s._v('document.cookie="username=WangyouLichuan"')])]),s._v(" "),a("li",[s._v("可添加过期时间，默认：浏览器关闭删除cookie"),a("code",[s._v('document.cookie="username=Wangyou;expires=……"')])]),s._v(" "),a("li",[s._v("可添加cookie路径"),a("code",[s._v('document.cookie="username=John Doe; expires=Thu, 18 Dec 2043 12:00:00 GMT; path=/";')])]),s._v(" "),a("li",[s._v("读取cookie"),a("code",[s._v("let x=document.cookie")])]),s._v(" "),a("li",[s._v("改：类似于创建"),a("code",[s._v('document.cookie="username=lichuan"')])]),s._v(" "),a("li",[s._v("删除：删除时不必写值"),a("code",[s._v('document.cookie="username=')])])])]),s._v(" "),a("li",[a("p",[s._v("完整实例")]),s._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//创建cooKie存储访问者名称")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setCookie")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" exdays")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//输入key.key值，时间")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" d"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("exdays"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//转化格式")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" expires"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"expires="')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("toGMTString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//创建过期时间")]),s._v("\n    document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cookie"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"="')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('";"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("expires"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//创建cookie")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//获取cookie")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getCookie")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//输入要获取的key")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"="')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//指定检索值")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" ca"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("';'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//分割，转数组")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" c"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ca"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("trim")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("indexof")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//判断检索内容是否存在")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("substring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//存在则返回")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//不存在返回空")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//创建检测cookie是否创建函数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("checkCookie")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//获取cookie值")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" username"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getCookie")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"username"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("；\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("username"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//cookie值存在")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"欢迎"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//不存在，就创建cookie")]),s._v("\n        username"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("prompt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"请输入名字:"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("uername"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v("username"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n           "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setCookie")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"username"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])])])])]),s._v(" "),a("li",[a("h4",{attrs:{id:"session"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#session"}},[s._v("#")]),s._v(" Session")]),s._v(" "),a("blockquote",[a("p",[s._v("session是在无状态的http协议下，服务端记录用户状态是用于表示具体用户的机制。他是在服务器保存的用来跟踪用户的状态的数据结构，可以保存在文件、数据库或者集群中。")]),s._v(" "),a("p",[s._v("浏览器关闭后这次的session失效，再次打开SessionId更换")])]),s._v(" "),a("blockquote",[a("p",[s._v("多数情况下应用都是用Cookie实现Session跟踪，第一次创建Session时，服务端会在HTTP协议中告诉客户端，要在Cookie中记录一个SessionID，下次请求是把SessionID发送给服务器")])])]),s._v(" "),a("li",[a("h4",{attrs:{id:"session与cookie的关系与区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#session与cookie的关系与区别"}},[s._v("#")]),s._v(" Session与Cookie的关系与区别")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("Session")]),s._v("是保存在服务端的一个数据结构，用来跟踪用户状态。"),a("code",[s._v("Cookie")]),s._v("是服务端保存用户信息的一种机制，也是实现Session的一种方式")]),s._v(" "),a("li",[a("code",[s._v("Session")]),s._v("的"),a("code",[s._v("安全性")]),s._v("高于"),a("code",[s._v("Cookie")]),s._v("，他人可通过分析保存在本地Cookie，造成用户信息泄露，重要交互信息保存在Session中，一般信息保存在Cookie中")]),s._v(" "),a("li",[s._v("访问增多，"),a("code",[s._v("Session")]),s._v("会占用较大的服务器性能，考虑到性能问题，应适当使用Cookie")]),s._v(" "),a("li",[s._v("单个"),a("code",[s._v("Cookie")]),s._v("保存数据不超过"),a("code",[s._v("4k")]),s._v(".")]),s._v(" "),a("li",[a("code",[s._v("Session")]),s._v("和"),a("code",[s._v("Cookie")]),s._v("相辅相成，Session的运行依赖"),a("code",[s._v("SessionID")]),s._v(",然而SessionID存在于Cookie，也就是说Cookie被禁用，Session失效")])])]),s._v(" "),a("li",[a("h4",{attrs:{id:"localstorage和sessionstorage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#localstorage和sessionstorage"}},[s._v("#")]),s._v(" localStorage和sessionStorage")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("共同点：")]),s._v(" "),a("blockquote",[a("ol",[a("li",[s._v("存储大小都是5M左右")]),s._v(" "),a("li",[s._v("都有同源策略限制")]),s._v(" "),a("li",[s._v("保存在客户端")])])])]),s._v(" "),a("li",[a("p",[s._v("不同点：")]),s._v(" "),a("blockquote",[a("ul",[a("li",[a("p",[s._v("生命周期：")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("localStorage")]),s._v("存储数据是"),a("code",[s._v("永久的")]),s._v("，除非"),a("code",[s._v("人为主动")]),s._v("删除")]),s._v(" "),a("li",[a("code",[s._v("sessionStorage")]),s._v("浏览器或者"),a("code",[s._v("窗口关闭")]),s._v("，sessionStorage"),a("code",[s._v("数据删除")])])])]),s._v(" "),a("li",[a("p",[s._v("作用域")]),s._v(" "),a("ol",[a("li",[a("p",[a("code",[s._v("localStorage")]),s._v(" 在"),a("code",[s._v("同一浏览器内，")]),s._v("同源文档`中绝对lacalstorage进行操作")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("sessionStorage")]),s._v("只有在同一窗口，统一浏览器的同源文档中才能共享数据")]),s._v(" "),a("blockquote",[a("p",[s._v("例如:在浏览器中打开了"),a("code",[s._v("两个相同地址")]),s._v("的页面A、B,虽然这两个页面的源完全相同，但是他们还是不能共享数据，因为他们是"),a("code",[s._v("不同窗口中")]),s._v("的。但是如果是一个窗口中，有两个同源的"),a("code",[s._v("iframe")]),s._v("元素的话，这两个"),a("code",[s._v("iframe")]),s._v("的 sessionStorage 是可以互通的。")])])])])])])])]),s._v(" "),a("li",[a("h4",{attrs:{id:"localstorage-和sessionstorage用法相同"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#localstorage-和sessionstorage用法相同"}},[s._v("#")]),s._v(" localStorage 和sessionStorage用法相同")]),s._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("localStorag"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wangyoulichuan"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//以name为key,xiaolin为值存储")]),s._v("\nlocalStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//获取key为name的值")]),s._v("\nlocalStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//获取第i个key")]),s._v("\nlocalStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("removeItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//删除key为name的这条数据")]),s._v("\nlocalStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("clear")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//清楚所有数据")]),s._v("\n")])])])])])]),s._v(" "),a("li",[a("h4",{attrs:{id:"token"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#token"}},[s._v("#")]),s._v(" token")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("基于token的身份验证（userID唯一用户识别+tampTime当前事件戳+sign签名）")]),s._v(" "),a("ol",[a("li",[s._v("用户通过用户名和密码发送请求")]),s._v(" "),a("li",[s._v("服务端进行验证")]),s._v(" "),a("li",[s._v("返回带签名的token,")]),s._v(" "),a("li",[s._v("存储token，通过token再次发送请求")]),s._v(" "),a("li",[s._v("服务器验证token，返回请求数据")]),s._v(" "),a("li",[s._v("每一次请求都要token")])])]),s._v(" "),a("li",[a("h5",{attrs:{id:"session和token的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#session和token的区别"}},[s._v("#")]),s._v(" session和token的区别")]),s._v(" "),a("ol",[a("li",[s._v("session认证只是简单的把用户信息村吃在Session里，SessionID不可预测，不可共享于其他网站和第三方App")]),s._v(" "),a("li",[s._v("token提供的事认证和授权，认证是针对用户，授权书针对App目的就是让某App有权访问用户信息，token是唯一的，token不能转移与其他App或其他用户（使用与App)")]),s._v(" "),a("li",[s._v("session的状态存在服务端，sessionID存在客户端。")]),s._v(" "),a("li",[s._v("token存储在客户端")])])])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);